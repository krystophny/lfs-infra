# Kernel config fragment for NVIDIA hardware
# Use this when deploying to real hardware with NVIDIA GPU

# =============================================================================
# NVIDIA Support
# =============================================================================

# Disable nouveau (conflicts with proprietary driver)
CONFIG_DRM_NOUVEAU=n

# Keep DRM core for NVIDIA
CONFIG_DRM=y
CONFIG_DRM_KMS_HELPER=y

# Framebuffer (needed for early boot)
CONFIG_FB=y
CONFIG_FB_VESA=y
CONFIG_FB_EFI=y

# =============================================================================
# PCI/PCIe for GPU
# =============================================================================

CONFIG_PCI=y
CONFIG_PCIEPORTBUS=y
CONFIG_PCIEASPM=y

# =============================================================================
# WiFi Hardware Support
# =============================================================================

# Wireless LAN
CONFIG_WLAN=y
CONFIG_CFG80211=m
CONFIG_MAC80211=m

# Intel WiFi (common)
CONFIG_IWLWIFI=m
CONFIG_IWLMVM=m
CONFIG_IWLDVM=m

# Realtek WiFi
CONFIG_RTW88=m
CONFIG_RTW89=m

# MediaTek WiFi
CONFIG_MT76=m

# Qualcomm/Atheros WiFi
CONFIG_ATH10K=m
CONFIG_ATH11K=m

# Broadcom WiFi
CONFIG_BRCMFMAC=m

# =============================================================================
# Audio (for desktop use)
# =============================================================================

CONFIG_SOUND=y
CONFIG_SND=y
CONFIG_SND_PCI=y
CONFIG_SND_HDA_INTEL=y
CONFIG_SND_HDA_CODEC_HDMI=y

# =============================================================================
# Ethernet/LAN Hardware Support
# =============================================================================

# Network device support
CONFIG_NETDEVICES=y
CONFIG_ETHERNET=y
CONFIG_NET_VENDOR_INTEL=y
CONFIG_NET_VENDOR_REALTEK=y

# Intel Ethernet
CONFIG_E1000=m
CONFIG_E1000E=m
CONFIG_IGB=m
CONFIG_IGBVF=m
CONFIG_IXGBE=m
CONFIG_I40E=m
CONFIG_ICE=m

# Realtek Ethernet (very common on consumer boards)
CONFIG_R8169=m
CONFIG_R8125=m

# Broadcom Ethernet
CONFIG_NET_VENDOR_BROADCOM=y
CONFIG_BNX2=m
CONFIG_TIGON3=m

# Aquantia/Marvell (high-end boards)
CONFIG_NET_VENDOR_AQUANTIA=y
CONFIG_ATLANTIC=m

# Mellanox (workstations/servers)
CONFIG_NET_VENDOR_MELLANOX=y
CONFIG_MLX4_EN=m
CONFIG_MLX5_CORE=m

# =============================================================================
# USB
# =============================================================================

CONFIG_USB=y
CONFIG_USB_XHCI_HCD=y
CONFIG_USB_EHCI_HCD=y

# =============================================================================
# Bluetooth Support
# =============================================================================

CONFIG_BT=m
CONFIG_BT_RFCOMM=m
CONFIG_BT_HIDP=m
CONFIG_BT_HCIBTUSB=m
CONFIG_BT_HCIUART=m
CONFIG_BT_INTEL=m

# =============================================================================
# NVMe Storage
# =============================================================================

CONFIG_BLK_DEV_NVME=y
CONFIG_NVME_CORE=y

# =============================================================================
# Firmware Loading
# =============================================================================

CONFIG_FW_LOADER=y
CONFIG_EXTRA_FIRMWARE=""
CONFIG_EXTRA_FIRMWARE_DIR="/lib/firmware"
