# Kernel config fragment for NVIDIA hardware
# Use this when deploying to real hardware with NVIDIA GPU

# =============================================================================
# NVIDIA Support
# =============================================================================

# Disable nouveau (conflicts with proprietary driver)
CONFIG_DRM_NOUVEAU=n

# Keep DRM core for NVIDIA
CONFIG_DRM=y
CONFIG_DRM_KMS_HELPER=y

# Framebuffer (needed for early boot)
CONFIG_FB=y
CONFIG_FB_VESA=y
CONFIG_FB_EFI=y

# =============================================================================
# PCI/PCIe for GPU
# =============================================================================

CONFIG_PCI=y
CONFIG_PCIEPORTBUS=y
CONFIG_PCIEASPM=y

# =============================================================================
# WiFi Hardware Support
# =============================================================================

# Wireless LAN
CONFIG_WLAN=y
CONFIG_CFG80211=m
CONFIG_MAC80211=m

# Intel WiFi (common)
CONFIG_IWLWIFI=m
CONFIG_IWLMVM=m
CONFIG_IWLDVM=m

# Realtek WiFi
CONFIG_RTW88=m
CONFIG_RTW89=m

# MediaTek WiFi
CONFIG_MT76=m

# Qualcomm/Atheros WiFi
CONFIG_ATH10K=m
CONFIG_ATH11K=m

# Broadcom WiFi
CONFIG_BRCMFMAC=m

# =============================================================================
# Audio (for desktop use)
# =============================================================================

CONFIG_SOUND=y
CONFIG_SND=y
CONFIG_SND_PCI=y
CONFIG_SND_HDA_INTEL=y
CONFIG_SND_HDA_CODEC_HDMI=y

# =============================================================================
# USB
# =============================================================================

CONFIG_USB=y
CONFIG_USB_XHCI_HCD=y
CONFIG_USB_EHCI_HCD=y
